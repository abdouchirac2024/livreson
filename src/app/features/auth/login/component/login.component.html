<p-toast/>

<div class="w-full h-full flex items-center justify-center" id="login-bg-img"
     style="background-image: url('assets/img/velo1-unsplash.jpg')">
  <div class=" p-8 ">
    <p-card [style]="{ width: '35rem', overflow: 'hidden' }">
      <ng-template #header>
        <div class="flex justify-center mt-3">
          <img alt="Card" src="assets/img/logofinal.png" width="157">
        </div>
      </ng-template>
      <div>
        <form [formGroup]="loginForm">
          <div>
            <!--            email input-->
            <div class="flex flex-col gap-2 mt-5">
              <label for="email" class="block text-900 font-medium text-xl mb-1">Identifiant (email):</label>
              <input
                type="email"
                id="email"
                formControlName="email"
                class="w-full p-3 md:w-30rem text-xl"
                pInputText
                [ngClass]="{'ng-invalid': !loginForm.get('email')?.valid && loginForm.get('email')?.touched}"
              >
              <small *ngIf="loginForm.get('email')?.hasError('required') && loginForm.get('email')?.touched"
                     class="text-red-600">Email is required</small>
              <small *ngIf="loginForm.get('email')?.hasError('email') && loginForm.get('email')?.touched"
                     class="text-red-600">Invalid email format</small>
            </div>

            <!--            password input-->
            <div class="flex flex-col gap-2 mt-5">
              <label for="password" class="block text-900 font-medium text-xl mb-1">Mot de Passe</label>

              <p-password
                id="password"
                formControlName="password"
                placeholder="Entrer mot de passe: "
                [toggleMask]="true"
                [feedback]="false"
                styleClass="w-full"
                inputStyleClass="w-full p-3 md:w-30rem text-xl"
                [ngClass]="{'ng-invalid': !loginForm.get('password')?.valid && loginForm.get('password')?.touched}"
              ></p-password>
              <div class="w-full p-3 md:w-30rem">
                <small *ngIf="loginForm.get('password')?.hasError('required') && loginForm.get('password')?.touched"
                       class="text-red-600">Le mot de passe est requis</small>
                <small *ngIf="loginForm.get('password')?.hasError('minlength') && loginForm.get('password')?.touched"
                       class="text-red-600">Le mot de passe doit comporter au
                  moins 6 caractères</small>
                <small *ngIf="loginForm.get('password')?.hasError('maxlength') && loginForm.get('password')?.touched"
                       class="text-red-600">Le mot de passe ne doit pas
                  dépasser 16 caractères</small>
              </div>

            </div>

            <!--            forget password link-->
            <a
              class="flex justify-end font-medium no-underline ml-2 text-right cursor-pointer mt-4 text-pink-500"
              [routerLink]="['/forgottenPassword']">mot de passe oublié?</a>
          </div>
        </form>
      </div>
      <ng-template #footer>
        <p-button
          [disabled]="!loginForm.valid"
          label="CONNEXION"
          [loading]="isLoading"
          (onClick)="onSubmit()"
          class="w-full p-3 text-xl font-bold mt-5"
        ></p-button>
      </ng-template>
    </p-card>
  </div>
</div>

